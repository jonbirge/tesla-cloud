<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>teslas.cloud (beta)</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?ver=17">
    <link rel="stylesheet" href="wx.css?ver=1">
</head>

<body>
    <div class="frame-container">
        <div class="left-frame">
            <div class="section-buttons">
                <h1>teslas.cloud (beta)</h1>
                <button class="section-button" onclick="showSection('news')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 20H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1M15 13h5M15 17h5M15 9h5"></path><path d="M8 13h.01M8 17h.01M8 9h.01"></path></svg>
                    News
                </button>
                <button class="section-button" onclick="showSection('navigation')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon></svg>
                    Dashboard
                </button>
                <button class="section-button" onclick="showSection('weather')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline></svg>
                    Weather
                </button>
                <button class="section-button" onclick="showSection('satellite')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><circle cx="12" cy="12" r="4"></circle></svg>
                    Satellite
                </button>
                <button class="section-button" onclick="showSection('landmarks')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"></rect><path d="M9 3v18"></path><path d="M3 9h18"></path></svg>
                    Landmarks
                </button>
                <button class="section-button" onclick="showSection('travel')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg>
                    Travel
                </button>
                <button class="section-button" onclick="showSection('media')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="2" ry="2"></rect><polygon points="14 8 14 16 8 12 14 8"></polygon></svg>
                    Media
                </button>
                <button class="section-button" onclick="showSection('reference')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                    Reference
                </button>
                <button class="section-button" onclick="showSection('toys')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path><path d="M6 12h4"></path><path d="M14 12h4"></path></svg>
                    Toys
                </button>
                <button class="section-button" onclick="showSection('network')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 5H1v8h8V5z"></path><path d="M22 5h-8v8h8V5z"></path><path d="M9 19H1v-2h8v2z"></path><path d="M22 19h-8v-2h8v2z"></path><path d="M5 13v2"></path><path d="M18 13v2"></path><path d="M19 9h1"></path><path d="M3 9h1"></path></svg>
                    Network
                </button>
                <button class="section-button" onclick="showSection('about')">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>
                    About
                </button>
            </div>
        </div>
        
        <div id="rightFrame" class="right-frame">
            <div class="sections">
                <div id="news" class="section">
                    <h2>Headlines</h2>
                    <div id="newsHeadlines" class="news-headlines">
                        <p><em>Loading headlines...</em></p>
                    </div>
                    <hr>
                    <h2>Links</h2>
                    <ul class="button-list">
                        <li><a href="https://www.nytimes.com">New York Times</a></li>
                        <li><a href="https://www.wsj.com">Wall Street Journal</a></li>
                        <li><a href="https://www.bbc.com/news">BBC News</a></li>
                        <li><a href="https://electrek.co">Electrek</a></li>
                        <li><a href="https://insideevs.com">InsideEVs</a></li>
                        <li><a href="https://www.notateslaapp.com">Not a Tesla App</a></li>
                    </ul>
                </div>

                <div id="navigation" class="section">
                    <div class="nav-container">
                        <div class="radar-container">
                            <h2 class="radar-title">Relative Wind</h2>
                            <canvas id="radarDisplay" width="220" height="220"></canvas>
                        </div>
                        <div class="nav-stats">
                            <div class="stat-box">
                                <div class="stat-value" id="heading">--°</div>
                                <div class="stat-label">HDG</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value" id="altitude">--</div>
                                <div class="stat-label">FEET ALT</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value" id="headwind">--</div>
                                <div class="stat-label">MPH HEADWIND</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value" id="crosswind">--</div>
                                <div class="stat-label">MPH CROSSWIND</div>
                            </div>
                        </div>
                    </div>
                    <div class="data-info">
                        <div class="data-item">
                            <h2>Location</h2>
                            <span id="latitude">--</span>, <span id="longitude">--</span>
                        </div>
                        <div class="data-item">
                            <h2>Nearest City</h2>
                            <span id="city">N/A</span>
                        </div>
                        <div class="data-item">
                            <h2>Speed</h2>
                            <span id="speed">--</span>
                        </div>
                        <div class="data-item">
                            <h2>GPS Velocity</h2>
                            <span id="gpsvel">--</span>
                        </div>
                        <div class="data-item">
                            <h2>GPS Heading</h2>
                            <span id="gpshead">--</span>
                        </div>
                        <div class="data-item">
                            <h2>Accuracy</h2>
                            <span id="accuracy">--</span>
                        </div>
                    </div>
                    <hr>
                    <!-- TeslaWaze container -->
                    <div class="teslawaze-container">
                        <iframe id="teslawaze" src="https://teslawaze.azurewebsites.net/" allow="geolocation"></iframe>
                    </div>
                </div>

                <div id="weather" class="section">
                    <h2>Forecast</h2>
                    <div class="forecast-container">
                        <div class="forecast-day" onclick="showHourlyForecast(0)">
                            <div class="forecast-date">Loading...</div>
                            <img class="forecast-icon" src="" alt="Icon">
                            <div class="forecast-temp">--°/--°</div>
                            <div class="forecast-desc">...</div>
                        </div>
                        <div class="forecast-day" onclick="showHourlyForecast(1)">
                            <div class="forecast-date">Loading...</div>
                            <img class="forecast-icon" src="" alt="">
                            <div class="forecast-temp">--°/--°</div>
                            <div class="forecast-desc">...</div>
                        </div>
                        <div class="forecast-day" onclick="showHourlyForecast(2)">
                            <div class="forecast-date">Loading...</div>
                            <img class="forecast-icon" src="" alt="">
                            <div class="forecast-temp">--°/--°</div>
                            <div class="forecast-desc">...</div>
                        </div>
                        <div class="forecast-day" onclick="showHourlyForecast(3)">
                            <div class="forecast-date">Loading...</div>
                            <img class="forecast-icon" src="" alt="">
                            <div class="forecast-temp">--°/--°</div>
                            <div class="forecast-desc">...</div>
                        </div>
                        <div class="forecast-day" onclick="showHourlyForecast(4)">
                            <div class="forecast-date">Loading...</div>
                            <img class="forecast-icon" src="" alt="">
                            <div class="forecast-temp">--°/--°</div>
                            <div class="forecast-desc">...</div>
                        </div>
                    </div>
                    <!-- Add popup elements -->
                    <div class="overlay"></div>
                    <div class="forecast-popup">
                        <button class="forecast-popup-close" onclick="closeHourlyForecast()">&times;</button>
                        <h2 id="popup-date">Hourly Forecast</h2>
                        <div class="hourly-forecast"></div>
                    </div>

                    <hr>
                    
                    <div class="data-info">
                        <div class="data-item">
                            <h2>Sunrise</h2>
                            <span id="sunrise">N/A</span>
                        </div>
                        <div class="data-item">
                            <h2>Sunset</h2>
                            <span id="sunset">N/A</span>
                        </div>
                        <div class="data-item">
                            <h2>Moon Phase</h2>
                            <span id="moonphase">N/A</span>
                        </div>
                        <div class="data-item">
                            <h2>Humidity</h2>
                            <span id="humidity">N/A</span>
                        </div>
                        <div class="data-item">
                            <h2>Wind</h2>
                            <span id="wind">N/A</span>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <h2>Links</h2>
                    <ul class="button-list">
                        <li><a href="https://www.weather.gov/forecastmaps" data-frame>NOAA Forecasts</a></li>
                        <li><a href="https://radar.weather.gov/" data-frame>NOAA Radar</a></li>
                        <li><a href="https://www.weather.gov" data-frame>NOAA Weather</a></li>
                        <li><a href="https://www.weather.com" data-frame>Weather.com</a></li>
                        <li><a href="https://www.accuweather.com" data-frame>AccuWeather</a></li>
                        <li><a href="https://www.wunderground.com" data-frame>Wunderground</a></li>
                        <li><a href="https://www.weatherbug.com" data-frame>WeatherBug</a></li>
                    </ul>
                </div>

                <div id="satellite" class="section">
                    <div class="weather-switch-container">
                        <div class="weather-switch">
                            <button onclick="switchWeatherImage('latest')" class="active">Visible</button>
                            <button onclick="switchWeatherImage('loop')">Loop</button>
                            <button onclick="switchWeatherImage('latest_ir')">IR</button>
                        </div>
                    </div>
                    <img id="weather-image" class="weather-image active" alt="Satellite image">
                </div>

                <div id="landmarks" class="section">
                    <h2>Local Landmarks</h2>
                    <div id="wikipediaInfo"><em>Landmark information loading...</em></div>
                </div>

                <div id="travel" class="section">
                    <h2>Links</h2>
                    <ul class="button-list">
                        <li><a href="https://maps.google.com">Google Maps</a></li>
                        <li><a href="https://earth.google.com">Google Earth</a></li>
                        <li><a href="https://teslawaze.azurewebsites.net/" data-frame>TeslaWaze</a></li>
                        <li><a href="https://www.waze.com">Waze</a></li>
                        <li><a href="https://abetterrouteplanner.com">A Better Route Planner</a></li>
                        <li><a href="https://www.openstreetmap.org">OpenStreetMap</a></li>
                        <li><a href="https://www.plugshare.com">PlugShare</a></li>
                        <li><a href="https://www.aaa.com">AAA</a></li>
                    </ul>
                </div>

                <div id="reference" class="section">
                    <h2>Links</h2>
                    <ul class="button-list">
                        <li><a href="https://www.wikipedia.org" data-frame>Wikipedia</a></li>
                        <li><a href="https://www.yelp.com" data-frame>Yelp</a></li>
                        <li><a href="https://www.tripadvisor.com" data-frame>TripAdvisor</a></li>
                        <li><a href="https://www.smartertravel.com">SmarterTravel</a></li>
                        <li><a href="https://www.lonelyplanet.com">Lonely Planet</a></li>
                        <li><a href="https://www.fodors.com">Fodor's</a></li>
                        <li><a href="https://www.alltrails.com">AllTrails</a></li>
                        <li><a href="https://www.roadtrippers.com">Roadtrippers</a></li>
                        <li><a href="https://www.cdc.gov" data-frame>CDC</a></li>
                        <li><a href="https://www.rottentomatoes.com">Rotten Tomatoes</a></li>
                        <li><a href="https://www.metacritic.com">Metacritic</a></li>
                    </ul>
                </div>

                <div id="media" class="section">
                    <h2>Links</h2>
                    <ul class="button-list">
                        <li><a href="https://www.siriusxm.com/player/login">SiriusXM Radio</a></li>
                        <li><a href="https://tv.youtube.com">YouTube TV</a></li>
                        <li><a href="https://www.amazon.com/Amazon-Video">Amazon Video</a></li>
                        <li><a href="https://www.fubo.tv">Fubo TV</a></li>
                        <li><a href="https://www.paramountplus.com">Paramount+</a></li>
                        <li><a href="https://www.espn.com">ESPN</a></li>
                        <li><a href="https://www.disneyplus.com">Disney+</a></li>
                        <li><a href="https://www.mlb.com/live-stream-games">MLB.tv</a></li>
                        <li><a href="https://www.audible.com">Audible</a></li>
                        <li><a href="https://www.bloomberg.com/live">Bloomberg</a></li>
                        <li><a href="https://www.coursera.org">Coursera</a></li>
                        <li><a href="https://members.abettertheater.com/">A Better Theater</a></li>
                    </ul>
                </div>

                <div id="toys" class="section">
                    <h2>Links</h2>
                    <ul class="button-list">
                        <li><a href="https://neal.fun">Neal.fun</a></li>
                        <li><a href="https://poki.com">Poki (Casual Games)</a></li>
                        <li><a href="https://nyc.birgefuller.com/HP/" data-frame>RPN Calculator</a></li>
                        <li><a href="https://nyc.birgefuller.com/Mandelbrot/">Mandelbrot Fractal</a></li>
                        <li><a href="https://lightroom.adobe.com/shares/3e89edbc7e0b4894905df16a85a1e71a">Aerial Tilt-Shift Gallery</a></li>
                        <li><a href="https://www.earthcam.com">EarthCam</a></li>
                    </ul>
                </div>

                <div id="network" class="section">
                    <h2>Internet Address</h2>
                    <span id="rdns">N/A</span>
                    <h2>Exit Location</h2>
                    <span id="exitLocation">N/A</span>
                    <h2>Provider</h2>
                    <span id="isp">N/A</span>
                    <hr>
                    <h2>Health</h2>
                    <button id="pingTestButton" onclick="startPingTest()" class="ping-button">Start Ping Test</button>
                    <canvas id="pingChart" class="hidden"  width="600" height="200"></canvas>
                    <hr>
                    <h2>Links</h2>
                    <ul class="button-list">
                        <li><a href="https://www.speedtest.net" data-frame>SpeedTest</a></li>
                    </ul>
                </div>

                <div id="waze" class="section">
                    <h2>Waze</h2>
                </div>

                <div id="about" class="section">
                    <h2>About</h2>
                    <p>This service was created by <a href="https://www.mit.edu/~birge">Jonathan Birge</a> as a personal project. It is not affiliated with Tesla, Inc.</p>
                    <p>If there turns out to be any interest in this, future versions may include things like better inline weather information and maps, local links based on your current location, and persistent user customization.</p>
                    <p>Apologies to those outside of the US; right now some functionality is limited to CONUS. If you're using this from another region, please let me know (see below) where you are and, if possible, recommend a source for weather maps and data for your region.</p>
                    <p>For questions or feedback, please email <a href="mailto:admin@teslas.cloud">admin@teslas.cloud</a> or submit an issue to the <a href="https://github.com/jonbirge/Tesla/issues">GitHub repository</a>. Even a quick note letting me know you're using this would be motivation to keep improving it.</p>
                    
                    <h2>Tips</h2>
                    <ul>
                        <li>Bookmark this page using the star in the browser menu.</li>
                        <li>You can make the browser always easily available by dragging it to the left-hand side of the dock at the bottom of the screen.</li>
                        <li>Dark mode is currently set automatically based on sunset at your current location. However, you can also toggle it manually via the button in the upper right.</li>
                        <li>Some links will may inside the frame for convenience (not all websites support this). To return to the list of links, just click on one of the sections on the left.</li>
                    </ul>

                    <h2>Version</h2>
                    <p>0.19d</p>
                </div>

            </div>
        </div>
    </div>

    <div class="toggle-container">
        <label class="toggle-label">Dark Mode</label>
        <label class="toggle-switch">
            <input type="checkbox" id="darkModeToggle" onchange="toggleMode()">
            <span class="toggle-slider"></span>
        </label>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="wx.js?ver=1"></script>
    <script src="app.js?ver=19"></script>
</body>

</html>
