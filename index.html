<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>teslas.cloud</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/notify.css">
    <link rel="stylesheet" href="css/news.css">
    <link rel="stylesheet" href="css/wx.css">
    <link rel="stylesheet" href="css/timeline.css">
    <link rel="stylesheet" href="css/settings.css">
    <link rel="stylesheet" href="css/market.css">
</head>

<body>
    <!-- Container for SVG sprites -->
    <div id="sprites" style="display: none;"></div>
    
    <!-- Main container -->
    <div class="frame-container">

    <!-- Section menu -->
    <div id="leftFrame" class="left-frame">
        <div class="section-buttons">
            <h1 id="site-title">teslas.cloud</h1>
            <button class="section-button" onclick="showSection('navigation')">
                <svg class="button-icon"><use href="#icon-dashboard"></use></svg>
                Dashboard
            </button>
            <button id="news-section" class="section-button" onclick="showSection('news')">
                <svg class="button-icon"><use href="#icon-news"></use></svg>
                News
            </button>
            <button id="market-section" class="section-button" onclick="showSection('market')">
                <svg class="button-icon"><use href="#icon-market"></use></svg>
                Market
            </button>
            <button id="wx-section" class="section-button" onclick="showSection('weather')">
                <svg class="button-icon"><use href="#icon-weather"></use></svg>
                Weather
            </button>
            <button id="sat-section" class="section-button" onclick="showSection('satellite')">
                <svg class="button-icon"><use href="#icon-satellite"></use></svg>
                Satellite
            </button>
            <button class="section-button" onclick="showSection('landmarks')">
                <svg class="button-icon"><use href="#icon-landmarks"></use></svg>
                Nearby
            </button>
            <button class="section-button" onclick="showSection('network')">
                <svg class="button-icon"><use href="#icon-network"></use></svg>
                Network
            </button>
            <button class="section-button" onclick="showSection('travel')">
                <svg class="button-icon"><use href="#icon-travel"></use></svg>
                Travel
            </button>
            <button class="section-button no-driving" onclick="showSection('media')">
                <svg class="button-icon"><use href="#icon-media"></use></svg>
                Media
            </button>
            <button class="section-button no-driving" onclick="showSection('reference')">
                <svg class="button-icon"><use href="#icon-reference"></use></svg>
                Reference
            </button>
            <button class="section-button no-driving" onclick="showSection('toys')">
                <svg class="button-icon"><use href="#icon-toys"></use></svg>
                Toys
            </button>
            <button id="settings-section" class="section-button hidden" onclick="showSection('settings')">
                <svg class="button-icon"><use href="#icon-settings"></use></svg>
                Settings
            </button>
            <button id="about-section" class="section-button" onclick="showSection('about')">
                <svg class="button-icon"><use href="#icon-about"></use></svg>
                About
            </button>
            <button id="debug-section" class="section-button hidden" onclick="showSection('debug')">
                <svg class="button-icon"><use href="#icon-settings"></use></svg>
                Debug
            </button>
        </div> <!-- End of section buttons -->
        <button id="logout-button" class="logout-button" onclick="handleLogout()">Login</button>
    </div> <!-- End of left frame -->
    
    <!-- Section content -->
    <div id="rightFrame" class="right-frame">

        <div id="top-fade" class="scroll-indicator top-fade"></div>
        <div id="scroll-to-top" class="scroll-to-top">&#9650;</div>
        
        <div class="sections">

        <div id="navigation" class="section">
            <div class="nav-container">
                <div class="radar-container" id="radar-container">
                    <h2 class="radar-title">Relative Wind</h2>
                    <canvas id="radarDisplay" width="200" height="200"></canvas>
                </div>
                <div class="nav-stats">
                    <div class="stat-box">
                        <div class="value-container">
                            <div class="stat-value" id="heading">--Â°</div>
                        </div>
                        <div class="stat-label">HEADING</div>
                    </div>
                    <div class="stat-box">
                        <div class="value-container">
                            <div class="stat-value" id="altitude">--</div>
                            <div class="stat-unit" id="altitude-unit">FT</div>
                        </div>
                        <div class="stat-label">ALTITUDE</div>
                    </div>
                    <div class="stat-box">
                        <div class="value-container">
                            <div class="stat-value" id="speed">--</div>
                            <div class="stat-unit" id="speed-unit">MPH</div>
                        </div>
                        <div class="stat-label">SPEED</div>
                    </div>
                    <div class="stat-box">
                        <div class="value-container">
                            <div class="stat-value" id="vertical-rate">--</div>
                            <div class="stat-arrow-unit">
                                <div class="stat-arrow" id="vertical-rate-arrow"></div>
                                <div class="stat-unit" id="vertical-rate-unit">FT/MIN</div>
                            </div>
                        </div>
                        <div class="stat-label" id="vertical-rate-label">VERT RATE</div>
                    </div>
                    <div class="stat-box">
                        <div class="value-container">
                            <div class="stat-value" id="headwind">--</div>
                            <div class="stat-arrow-unit">
                                <div class="stat-arrow" id="headwind-arrow"></div>
                                <div class="stat-unit" id="headwind-unit">MPH</div>
                            </div>
                        </div>
                        <div class="stat-label" id="headwind-label">HEADWIND</div>
                    </div>
                    <div class="stat-box">
                        <div class="value-container">
                            <div class="stat-value" id="crosswind">--</div>
                            <div class="stat-arrow-unit">
                                <div class="stat-arrow" id="crosswind-arrow"></div>
                                <div class="stat-unit" id="crosswind-unit">MPH</div>
                            </div>
                        </div>
                        <div class="stat-label" id="crosswind-label">CROSSWIND</div>
                    </div>
                </div>
                <div class="data-info-column">
                    <div class="data-item">
                        <h2>Nearest City</h2>
                        <span id="city">N/A</span>
                    </div>
                    <div class="data-item">
                        <h2>State</h2>
                        <span id="state">N/A</span>
                    </div>
                    <div class="data-item">
                        <h2>GPS Accuracy</h2>
                        <span id="accuracy">--</span>
                    </div>
                </div>
            </div>
            <hr>
            <div class="teslawaze-container">
                <div id="in-map-toggle" class="settings-toggle-item option-switch-container" data-setting="map-choice">
                    <div class="option-switch">
                        <button class="option-button active" data-value="waze" onclick="toggleOptionSetting(this)">Waze</button>
                        <button class="option-button" data-value="abrp" onclick="toggleOptionSetting(this)">ABRP</button>
                        <button class="option-button" data-value="rainmap" onclick="toggleOptionSetting(this)">RainMap</button>
                    </div>
                </div>
                <iframe id="teslawaze" src="" allow="geolocation" loading="lazy"></iframe>
            </div>
        </div>

        <div id="news" class="section">
            <div id="news-loading" class="content-loading">
                <div class="spinner"></div>
            </div>
            <div id="newsHeadlines" class="news-headlines">
                <!-- News headlines will be dynamically inserted here -->
            </div>
        </div>

        <div id="market" class="section">
            <div id="market-loading" class="content-loading">
                <div class="spinner"></div>
            </div>
            <div id="market-empty" class="market-empty" style="display: none;">
                <p><em>No stocks or indexes selected. Add some in the Settings section.</em></p>
            </div>
            <div id="market-indexes-section">
                <h2>Indexes</h2>
                <div id="market-indexes-grid" class="market-grid">
                    <!-- Index cards will be dynamically inserted here -->
                </div>
            </div>
            <div id="market-stocks-section">
                <h2>Stocks</h2>
                <div id="market-stocks-grid" class="market-grid">
                    <!-- Stock cards will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <div id="weather" class="section">
            <h2>Extended Forecast</h2>
            <div id="prem-forecast-container" class="forecast-container loading">
                <!-- Forecast days will be dynamically generated by JavaScript -->
            </div>
            <!-- Minutely precipitation forecast graph elements -->
            <div id="minutely-precip-container" class="minutely-precip" style="display:none;">
                <h2>Precipitation Forecast</h2>
                <canvas id="minutely-precip-chart"></canvas>
            </div>
            <!-- Hourly forecast popup element -->
            <div class="forecast-popup">
                <h2 id="popup-date"></h2>
                <button id="prem-forecast-popup-close" class="forecast-popup-close" type="button">&times;</button>
                <div class="hourly-forecast"></div>
            </div>
            <div id="forecast-dim-overlay" class="forecast-dim-overlay" aria-hidden="true"></div>
            <h2>Current Conditions <span id="prem-station-info" class="station-name"></span></h2>
            <div class="data-info" id="prem-wx-data">
                <div class="data-item">
                    <h2>Humidity</h2>
                    <span id="prem-humidity">--</span>
                </div>
                <div class="data-item">
                    <h2>Wind</h2>
                    <span id="prem-wind">--</span>
                </div>
                <div class="data-item">
                    <h2>AQI</h2>
                    <span id="prem-aqi">--</span>
                    <span id="prem-aqi-dot" style="display:inline-block;width:14px;height:14px;border-radius:50%;margin-left:8px;vertical-align:middle;margin-top:-3px;"></span>
                </div>
                <div class="data-item">
                    <h2>Sunrise</h2>
                    <span id="prem-sunrise">--</span>
                </div>
                <div class="data-item">
                    <h2>Sunset</h2>
                    <span id="prem-sunset">--</span>
                </div>
                <div class="data-item">
                    <h2>Moon Phase</h2>
                    <span id="prem-moonphase">--</span>
                    <span id="prem-moon-icon" class="moon-phase-icon"></span>
                </div>
            </div>
            <div id="doppler-section">
                <hr>
                <h2>Local Radar</h2>
                <div id="radar-display-container" class="radar-display-container">
                    <div id="radar-loading" class="radar-loading">Loading radar data...</div>
                    <div id="radar-content" style="display: none;">
                        <div class="radar-info">
                            <span id="radar-station-name">--</span>
                        </div>
                        <img id="radar-image" class="radar-image" alt="NOAA Doppler Radar">
                    </div>
                    <div id="radar-unavailable" style="display: none;">
                        <p><em>Radar data not available for this location.</em></p>
                    </div>
                </div>
            </div>
        </div>

        <div id="satellite" class="section">
            <div class="weather-switch-container">
                <div class="weather-switch">
                    <button onclick="switchWeatherImage('latest')" class="active">Visible</button>
                    <button onclick="switchWeatherImage('loop')">Loop</button>
                    <button onclick="switchWeatherImage('latest_ir')">IR</button>
                </div>
            </div>
            <img id="weather-image" class="weather-image active">
        </div>

        <div id="landmarks" class="section">
            <div id="landmarks-loading" class="content-loading">
                <div class="spinner"></div>
            </div>
            <div id="landmark-items">
            </div>
        </div>

        <div id="travel" class="section">
            <h2>Mapping Tools</h2>
            <div class="button-list">
                <a href="https://teslawaze.azurewebsites.net"><img src="https://www.waze.com/favicon.ico" loading="lazy">TeslaWaze</a>
                <a href="https://abetterrouteplanner.com"><img src="https://abetterrouteplanner.com/favicon.ico" loading="lazy">ABRP</a>
                <a href="https://www.openstreetmap.org"><img src="https://www.openstreetmap.org/favicon.ico" loading="lazy">OpenStreetMap</a>
                <a href="https://maps.google.com"><img src="https://www.google.com/images/branding/product/ico/maps15_bnuw3a_32dp.ico" loading="lazy">Google Maps</a>
                <a href="https://earth.google.com"><img src="https://www.gstatic.com/earth/00-favicon.ico" loading="lazy">Google Earth</a>
                <a href="https://vfrmap.com"><img src="https://nasstatus.faa.gov/favicon-32x32.png" loading="lazy">Aviation Maps</a>
            </div>
            <h2>Destination Information</h2>
            <div class="button-list">
                <a href="https://www.plugshare.com"><img src="https://www.plugshare.com/favicon.ico" loading="lazy">PlugShare</a>
                <a href="https://www.yelp.com" data-frame><img src="https://www.yelp.com/favicon.ico" loading="lazy">Yelp</a>
                <a href="https://www.tripadvisor.com" data-frame><img src="https://www.tripadvisor.com/favicon.ico" loading="lazy">TripAdvisor</a>
                <a href="https://www.lonelyplanet.com"><img src="https://www.lonelyplanet.com/favicon.ico" loading="lazy">Lonely Planet</a>
                <a href="https://www.fodors.com"><img src="https://www.fodors.com/favicon.ico" loading="lazy">Fodor's</a>
                <a href="https://www.alltrails.com"><img src="https://www.alltrails.com/app-icon-96.png" loading="lazy">AllTrails</a>
                <a href="https://www.roadtrippers.com"><img src="https://www.roadtrippers.com/favicon.ico" loading="lazy">Roadtrippers</a>
                <a href="https://www.aaa.com"><img src="https://www.google.com/s2/favicons?domain=aaa.com&sz=64" loading="lazy">AAA</a>
                <a href="https://www.airbnb.com"><img src="https://www.airbnb.com/favicon.ico" loading="lazy">Airbnb</a>
                <a href="https://www.hotels.com"><img src="https://www.hotels.com/favicon.ico" loading="lazy">Hotels.com</a>
                <a href="https://www.flightaware.com"><img src="https://www.flightaware.com/favicon.ico" loading="lazy">FlightAware</a>
            </div>
        </div>

        <div id="reference" class="section">
            <h2>AI</h2>
            <div class="button-list">
                <a href="https://chat.openai.com/chat"><img src="https://www.google.com/s2/favicons?domain=chat.openai.com&sz=64" loading="lazy">OpenAI ChatGPT</a>
                <a href="https://gemini.google.com/app"><img src="https://www.google.com/s2/favicons?domain=gemini.google.com&sz=64" loading="lazy">Google Gemini</a>
                <a href="https://www.perplexity.ai/"><img src="https://www.google.com/s2/favicons?domain=perplexity.ai&sz=64" loading="lazy">Perplexity AI</a>
                <a href="https://copilot.microsoft.com/"><img src="https://www.google.com/s2/favicons?domain=copilot.microsoft.com&sz=64" loading="lazy">Microsoft Copilot</a>
                <a href="https://claude.ai/chat"><img src="https://www.google.com/s2/favicons?domain=claude.ai&sz=64" loading="lazy">Anthropic Claude</a>
                <a href="https://grok.com"><img src="https://www.google.com/s2/favicons?domain=grok.com&sz=64" loading="lazy">xAI Grok</a>
            </div>
            <h2>Productivity</h2>
            <div class="button-list">
                <a href="https://outlook.office.com"><img src="https://www.google.com/s2/favicons?domain=outlook.office.com&sz=64" loading="lazy">Outlook</a>
                <a href="https://mail.google.com"><img src="https://www.google.com/s2/favicons?domain=google.com&sz=64" loading="lazy">Gmail</a>
                <a href="https://www.icloud.com/mail"><img src="https://www.google.com/s2/favicons?domain=icloud.com&sz=64" loading="lazy">iCloud Mail</a>
                <a href="https://mail.proton.me"><img src="https://www.google.com/s2/favicons?domain=proton.me&sz=64" loading="lazy">Proton Mail</a>
                <a href="https://calendar.google.com"><img src="https://www.google.com/s2/favicons?domain=calendar.google.com&sz=64" loading="lazy">Google Calendar</a>
                <a href="https://outlook.office.com/calendar"><img src="https://www.google.com/s2/favicons?domain=outlook.office.com&sz=64" loading="lazy">Outlook Calendar</a>
                <a href="https://drive.google.com"><img src="https://www.google.com/s2/favicons?domain=drive.google.com&sz=64" loading="lazy">Google Drive</a>
                <a href="https://www.icloud.com/iclouddrive"><img src="https://www.google.com/s2/favicons?domain=icloud.com&sz=64" loading="lazy">iCloud Drive</a>
                <a href="https://www.office.com"><img src="https://www.google.com/s2/favicons?domain=office.com&sz=64" loading="lazy">Microsoft Office</a>
            </div>
            <h2>Learning</h2>
            <div class="button-list">
                <a href="https://www.wikipedia.org" data-frame><img src="https://www.wikipedia.org/favicon.ico" loading="lazy">Wikipedia</a>
                <a href="https://www.britannica.com"><img src="https://www.britannica.com/favicon.png" loading="lazy">Britannica</a>
                <a href="https://www.rottentomatoes.com"><img src="https://www.rottentomatoes.com/assets/pizza-pie/images/favicon.ico" loading="lazy">Rotten Tomatoes</a>
                <a href="https://www.howstuffworks.com"><img src="https://www.howstuffworks.com/favicon.ico" loading="lazy">HowStuffWorks</a>
                <a href="https://www.ted.com"><img src="https://www.ted.com/favicon.ico" loading="lazy">TED</a>
                <a href="https://www.khanacademy.org"><img src="https://www.khanacademy.org/favicon.ico" loading="lazy">Khan Academy</a>
                <a href="https://www.coursera.org"><img src="https://www.coursera.org/favicon.ico" loading="lazy">Coursera</a>
                <a href="https://www.udemy.com"><img src="https://frontends.udemycdn.com/frontends-homepage/staticx/udemy/images/v8/favicon-32x32.png" loading="lazy">Udemy</a>
                <a href="https://www.codecademy.com"><img class="img-adaptive-dark-invert" src="https://www.codecademy.com/favicon.ico" loading="lazy">Codecademy</a>
                <a href="https://www.edx.org"><img src="https://www.edx.org/favicon.ico" loading="lazy">edX</a>
                <a href="https://www.ocw.mit.edu"><img src="https://www.ocw.mit.edu/favicon.ico" loading="lazy">MIT Courses</a>
                <a href="https://www.futurelearn.com"><img src="https://www.futurelearn.com/favicon.ico" loading="lazy">FutureLearn</a>
                <a href="https://www.skillshare.com"><img src="https://www.skillshare.com/favicon.ico" loading="lazy">Skillshare</a>
                <a href="https://www.udacity.com"><img src="https://www.udacity.com/favicon/favicon-32x32.png" loading="lazy">Udacity</a>
                <a href="https://www.archive.org"><img src="https://www.archive.org/favicon.ico" loading="lazy">Internet Archive</a>
            </div>
            <h2>Password Managers</h2>
            <div class="button-list">
                <a href="https://www.1password.com"><img src="https://www.google.com/s2/favicons?domain=1password.com&sz=64" loading="lazy">1Password</a>
                <a href="https://www.bitwarden.com"><img src="https://www.bitwarden.com/favicon.ico" loading="lazy">Bitwarden</a>
                <a href="https://buttercup.pw/"><img src="https://buttercup.pw/static/img/buttercup.ico" loading="lazy">Buttercup</a>
                <a href="https://www.keepassxc.org"><img src="https://keepassxc.org/favicon.ico" loading="lazy">KeePassXC</a>
                <a href="https://www.lastpass.com"><img src="https://www.lastpass.com/favicon.ico" loading="lazy">LastPass</a>
            </div>
        </div>

        <div id="media" class="section">
            <h2>TV & Music</h2>
            <div class="button-list">
                <a href="https://tv.youtube.com"><img src="https://tv.youtube.com/favicon.ico" loading="lazy">YouTube TV</a>
                <a href="https://www.fubo.tv"><img src="https://www.fubo.tv/favicon.ico" loading="lazy">Fubo TV</a>
                <a href="https://www.sling.com"><img src="https://www.sling.com/favicon.ico" loading="lazy">Sling TV</a>
                <a href="https://www.amazon.com/gp/video/storefront"><img class="img-white-transparent" src="https://www.amazon.com/favicon.ico" loading="lazy">Prime Video</a>
                <a href="https://www.max.com"><img src="https://www.max.com/img/max/favicon.ico" loading="lazy">HBO Max</a>
                <a href="https://www.apple.com/apple-tv-plus"><img src="https://www.apple.com/favicon.ico" loading="lazy">Apple TV+</a>
                <a href="https://www.starz.com"><img src="https://www.starz.com/assets/starz/images/favicon.ico" loading="lazy">Starz</a>
                <a href="https://www.peacocktv.com"><img src="https://www.google.com/s2/favicons?domain=peacocktv.com&sz=64" loading="lazy">Peacock</a>
                <a href="https://www.cbs.com/all-access"><img src="https://www.cbs.com/favicon.ico" loading="lazy">CBS All Access</a>
                <a href="https://www.espn.com"><img src="https://www.espn.com/favicon.ico" loading="lazy">ESPN</a>
                <a href="https://www.disneyplus.com"><img class="img-adaptive" src="https://cnbl-cdn.bamgrid.com/assets/e41a64255b8a5840df6162a10642ad98f42a80d3ca8aeb5ebcd70f74d096c0b0/original" loading="lazy">Disney+</a>
                <a href="https://www.paramountplus.com"><img src="https://www.paramountplus.com/favicon.ico" loading="lazy">Paramount+</a>
                <a href="https://www.mgmplus.com"><img src="https://www.mgmplus.com/favicon.svg" loading="lazy">MGM+</a>
                <a href="https://www.discoveryplus.com"><img class="img-white-transparent" src="https://www.discoveryplus.com/img/dplus/favicon.ico" loading="lazy">Discovery+</a>
                <a href="https://www.amc.com"><img class="img-adaptive" src="https://cdn.amcnetworks.com/amc/theme/web/amc_logo_bk_bg.png" loading="lazy">AMC</a>
                <a href="https://www.mlb.com/live-stream-games"><img src="https://www.mlb.com/favicon.ico" loading="lazy">MLB.tv</a>
                <a href="https://www.siriusxm.com/player" data-frame><img class="img-white-transparent" src="https://www.siriusxm.com/favicon.ico" loading="lazy">SiriusXM</a>
            </div>
            <h2>News</h2>
            <div class="button-list">
                <a href="https://www.nytimes.com"><img class="img-adaptive-dark-invert" src="https://www.nytimes.com/favicon.ico" loading="lazy">New York Times</a>
                <a href="https://www.wsj.com"><img class="img-white-transparent" src="https://www.wsj.com/favicon.ico" loading="lazy">Wall Street Journal</a>
                <a href="https://www.bbc.com/news"><img class="img-white-transparent" src="https://www.bbc.com/favicon.ico" loading="lazy">BBC</a>
                <a href="https://www.bloomberg.com/live"><img src="https://www.bloomberg.com/favicon.ico" loading="lazy">Bloomberg</a>
                <a href="https://www.cnn.com"><img src="https://www.cnn.com/favicon.ico" loading="lazy">CNN</a>
                <a href="https://www.reuters.com"><img src="https://www.reuters.com/favicon.ico" loading="lazy">Reuters</a>
                <a href="https://www.apnews.com"><img src="https://assets.apnews.com/fa/ba/9258a7114f5ba5c7202aaa1bdd66/aplogo.svg" loading="lazy">AP News</a>
                <a href="https://www.cnbc.com"><img src="https://www.cnbc.com/favicon.ico" loading="lazy">CNBC</a>
                <a href="https://www.npr.org"><img class="img-white-transparent" src="https://www.npr.org/favicon.ico" loading="lazy">NPR</a>
            </div>
            <h2>Tesla</h2>
            <div class="button-list">
                <a href="https://www.teslarati.com"><img src="https://www.teslarati.com/favicon.ico" loading="lazy">Teslarati</a>
                <a href="https://insideevs.com"><img src="https://insideevs.com/favicon.ico" loading="lazy">InsideEVs</a>
                <a href="https://www.notateslaapp.com"><img src="https://www.notateslaapp.com/favicon.ico" loading="lazy">Not a Tesla App</a>
            </div>
        </div>

        <div id="network" class="section">
            <div class="data-info-column">
                <div class="data-item">
                    <h2>IP Address</h2>
                    <span id="rdns">N/A</span>
                </div>
                <div class="data-item">
                    <h2>Exit Location</h2>
                    <span id="exitLocation">N/A</span>
                </div>
                <div class="data-item">
                    <h2>Provider</h2>
                    <span id="isp">N/A</span>
                </div>
            </div>
            <hr>
            <h2>Network Latency</h2>
            <canvas id="pingChart" width="600" height="260">
            <hr>
            <h2>Testing</h2>
            <div class="button-list">
                <a href="https://www.speedtest.net"><img src="https://www.speedtest.net/favicon.ico" loading="lazy">SpeedTest</a>
            </div>
        </div>
        
        <div id="toys" class="section">
            <h2>Random</h2>
            <div class="button-list">
                <a href="https://nyc.birgefuller.com/HP/" data-frame><img src="https://nyc.birgefuller.com/HP/favicon.svg" loading="lazy">RPN Calculator</a>
                <a href="https://neal.fun"><img src="https://neal.fun/favicons/home.png" loading="lazy">Neal.fun</a>
                <a href="https://poki.com"><img src="https://poki.com/favicon.ico" loading="lazy">Poki Games</a>
                <a href="https://nyc.birgefuller.com/Mandelbrot/"><img src="https://images.dwncdn.net/images/t_app-icon-s/p/c49dad05-db1a-442c-8f87-93c5accd3992/61821522/20413_4-78255976-logo" loading="lazy">Mandelbrot Fractal</a>
                <a href="https://www.earthcam.com"><img src="https://www.earthcam.net/graphics/favicons/favicon-96x96.png?v=2" loading="lazy">EarthCam</a>
                <a href="https://theuselessweb.com"><img src="https://theuselessweb.com/favicon.ico" loading="lazy">The Useless Web</a>
                <a href="https://www.geoguessr.com"><img src="https://www.geoguessr.com/favicon.ico" loading="lazy">GeoGuessr</a>
                <a href="https://quickdraw.withgoogle.com"><img src="https://quickdraw.withgoogle.com/static/favicon.ico" loading="lazy">Quick, Draw!</a>
                <a href="https://www.patatap.com"><img src="https://www.patatap.com/images/favicon.ico" loading="lazy">Patatap</a>
                <a href="http://weavesilk.com"><img src="https://contentcatnip.com/wp-content/uploads/2021/03/5b73e-silk_thumb.png" loading="lazy">WeaveSilk</a>
                <a href="https://www.incredibox.com"><img src="https://www.incredibox.com/favicon.ico" loading="lazy">Incredibox</a>
                <a href="https://www.window-swap.com"><img src="https://www.svgrepo.com/show/67443/window.svg" loading="lazy">Window Swap</a>
                <a href="http://radio.garden"><img src="https://radio.garden/icons/favicon.png" loading="lazy">Radio Garden</a>
                <a href="https://play.pokemonshowdown.com"><img src="https://play.pokemonshowdown.com/favicon.ico" loading="lazy">Pokemon Showdown</a>
                <a href="https://lightroom.adobe.com/shares/3e89edbc7e0b4894905df16a85a1e71a">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Adobe_Photoshop_Lightroom_CC_logo.svg/250px-Adobe_Photoshop_Lightroom_CC_logo.svg.png" loading="lazy">Aerial Tilt-Shift
                </a>
                <a href="https://www.airconsole.com"><img src="https://www.airconsole.com/favicon.ico" loading="lazy">AirConsole</a>
            </div>
            <h2>Retro Games (Beta)</h2>
            <p>These may not all work well on the Tesla browser, so they are here for people to test. Feel free to provide feedback to feedback@teslas.cloud.</p>
            <div class="button-list">
                <a href="https://www.gamestalgia.net/"><img src="https://www.gamestalgia.net/favicon.ico" loading="lazy">Gamestalgia</a>
                <a href="https://gam.onl/"><img src="https://gam.onl/favicon.ico" loading="lazy">GAM.ONL</a>
                <a href="https://www.retrogames.onl/"><img src="https://www.retrogames.onl/favicon.ico" loading="lazy">retrogames.oln</a>
            </div>
        </div>

        <div id="settings" class="section">
            <h2>General</h2>
            <div class="settings-controls">
                <div class="settings-toggle-item" data-setting="auto-dark-mode"
                    onclick="this.querySelector('input').click()">
                    <label>Auto Dark Mode</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)">
                    <span class="settings-toggle-slider"></span>
                </div>

                <div class="settings-toggle-item" data-setting="dark-mode"
                    onclick="this.querySelector('input').click()">
                    <label>Dark Mode</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)">
                    <span class="settings-toggle-slider"></span>
                </div>
                
                <div class="settings-toggle-item" data-setting="24-hour-time"
                    onclick="this.querySelector('input').click()">
                    <label>24-hour Time</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)">
                    <span class="settings-toggle-slider"></span>
                </div>
            
                <div class="settings-toggle-item option-switch-container" data-setting="imperial-units">
                    <label>Units</label>
                    <div class="option-switch">
                        <button class="option-button" data-value="metric"
                            onclick="toggleOptionSetting(this)">Metric</button>
                        <button class="option-button active" data-value="english"
                            onclick="toggleOptionSetting(this)">English</button>
                    </div>
                </div>
            
                <div class="settings-toggle-item option-switch-container" data-setting="map-choice">
                    <label>Dashboard Map</label>
                    <div class="option-switch">
                        <button class="option-button active" data-value="waze"
                            onclick="toggleOptionSetting(this)">Waze</button>
                        <button class="option-button" data-value="abrp"
                            onclick="toggleOptionSetting(this)">ABRP</button>
                        <button class="option-button" data-value="rainmap"
                            onclick="toggleOptionSetting(this)">RainMap</button>
                    </div>
                </div>
            
                <div class="settings-toggle-item" data-setting="show-wind-radar"
                    onclick="this.querySelector('input').click()">
                    <label>Relative Wind Indicator</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)" checked>
                    <span class="settings-toggle-slider"></span>
                </div>

                <div class="settings-toggle-item" data-setting="show-speed-indicators"
                    onclick="this.querySelector('input').click()">
                    <label>Speed and Vertical Rate Indicators</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)" checked>
                    <span class="settings-toggle-slider"></span>
                </div>
            </div>

            <h2>Weather</h2>
            <div class="settings-controls">
                <div class="settings-toggle-item" data-setting="show-hourly-stripes"
                    onclick="this.querySelector('input').click()">
                    <label>Hourly Forecast Stripes</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)" checked>
                    <span class="settings-toggle-slider"></span>
                </div>

                <div class="settings-toggle-item" data-setting="show-doppler-radar"
                    onclick="this.querySelector('input').click()">
                    <label>Show Doppler Radar</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)" checked>
                    <span class="settings-toggle-slider"></span>
                </div>
            </div>

            <h2>Satellite</h2>
            <div class="settings-controls">
                <div class="settings-toggle-item" data-setting="satellite-use-location"
                    onclick="this.querySelector('input').click()">
                    <label>Use Current Location</label>
                    <input type="checkbox" onchange="toggleSatelliteLocationMode(this.checked)" checked>
                    <span class="settings-toggle-slider"></span>
                </div>

                <div class="settings-toggle-item option-switch-container satellite-region-selector disabled" data-setting="sat-region">
                    <label>Region</label>
                    <div class="option-switch region-switch">
                        <!-- Buttons will be injected dynamically based on available SAT_URLS entries -->
                    </div>
                </div>
            </div>

            <h2>News Settings</h2>
            <div class="settings-controls">
                <div class="settings-toggle-item" data-setting="show-news-count"
                    onclick="this.querySelector('input').click()">
                    <label>Show Unread News Count</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)" checked>
                    <span class="settings-toggle-slider"></span>
                </div>
           
                <div class="settings-toggle-item" data-setting="news-forwarding"
                    onclick="this.querySelector('input').click()">
                    <label>Enable News Forwarding</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)">
                    <span class="settings-toggle-slider"></span>
                </div>
            
                <div class="settings-toggle-item" data-setting="news-forward-only"
                    onclick="this.querySelector('input').click()">
                    <label>Always Forward When Driving</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)">
                    <span class="settings-toggle-slider"></span>
                </div>
            
                <div class="settings-toggle-item settings-text-item" data-setting="forwarding-email">
                    <label>Email</label>
                    <input type="text" placeholder="Enter e-mail address" onchange="updateSettingFrom(this)">
                </div>

                <div class="settings-toggle-item" data-setting="show-stock-indicator"
                    onclick="this.querySelector('input').click()">
                    <label>Live Stock Ticker</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)" checked>
                    <span class="settings-toggle-slider"></span>
                </div>

                <div class="settings-toggle-item" data-setting="show-price-alt"
                    onclick="this.querySelector('input').click()">
                    <label>Ticker Shows Price and Change</label>
                    <input type="checkbox" onchange="toggleSettingFrom(this)">
                    <span class="settings-toggle-slider"></span>
                </div>
            </div>
            
            <h2>News Feeds</h2>
            
            <h2>Financial Data</h2>
            <h3>Indexes</h3>
            <div id="stock-index-settings" class="settings-controls news-source-grid">
                <!-- Index settings dynamically generated here -->
            </div>
            <h3>Stocks</h3>
            <div id="stock-settings" class="settings-controls news-source-grid">
                <!-- Stock settings dynamically generated here -->
            </div>
            
        </div>

        <div id="about" class="section">
            <div id="announcement" class="announcement" style:"display: none;">
            <h2>Announcements</h2>
            <p id="note"></p>
            </div>

            <h2>About</h2>

            <p>This service was created as an educational father-son project. It is in no way affiliated with
                Tesla, Inc. No warranty is made as to its utility for any purpose.</p>

            <p>The latest development build is always available at <a href="https://dev.teslas.cloud">dev.teslas.cloud</a>.</p>
            
            <p>For questions, bug report, or feature suggestions: email <a href="mailto:feedback@teslas.cloud">feedback@teslas.cloud</a>.</p>
            
            <p><a href="faq.html" data-frame>Frequently Asked Questions</a></p>

            <h2>Acknowledgements</h2>
            
            <p>Thanks to whomever made the fantastic "TeslaWaze" site, one of the embedded options in the
                dashboard. Thank you, as well, to the friendly folks on <a
                    href="https://www.teslaownersonline.com/">Tesla Owners Online</a>, who gave considerable
                helpful feedback and support on early versions.</p>

            <h2>Privacy Policy</h2>
            
            <p>The only personal information that is saved on our servers is any e-mail address you enter (and
                only if you choose to do so) for mail forwarding of news. We will never sell it or give it away to
                any third party, nor do we have any other information about you to associate it with.</p>

            <h2>Version</h2>
            
            <p id="version">--</p>
        </div>
        
        <div id="debug" class="section">
            <h2>Debug</h2>
            <pre id="debug-output"></pre>
        </div>

        </div> <!-- End of regular sections -->
    
        <div id="external-site">
            <!-- iframe for external website -->
        </div>

        <div id="bottom-fade" class="scroll-indicator bottom-fade"></div>
        
    </div> <!-- End of right frame -->

    </div> <!-- End of frame container -->

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <h2>Login</h2>
            <p>Enter a user ID (minimum of 9 characters) to login or create a new account.</p>
            <div class="login-form">
                <label for="user-id">User ID</label>
                <input type="text" id="user-id" placeholder="Enter user ID" minlength="9" required>
                <div id="login-error" class="error-message"></div>
                <div class="button-container">
                    <button id="login-cancel" class="modal-button cancel">Cancel</button>
                    <button id="login-submit" class="modal-button submit">Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Indicators -->
    <div class="control-container">
        <!-- Rain indicator - hidden by default -->
        <div id="rain-indicator" class="status-indicator rain-status hidden" title="Rain expected within 15 minutes">
            <img src="assets/cloud.svg" alt="Rain Alert" width="24" height="24">
            <span id="rain-timing-text"></span>
        </div>
        <div id="gps-status" class="status-indicator gps-status unavailable" title="GPS Status">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                <circle cx="12" cy="12" r="8" fill="none" stroke="currentColor" stroke-width="2"/>
                <circle cx="12" cy="12" r="3" fill="currentColor"/>
            </svg>
        </div>
        <div id="stock-indicators" style="display: flex;">
            <!-- Stock indicators dynamically generated here -->    
        </div>
        <div id="network-status" class="status-indicator network-status unavailable" title="Network Status">
            <img src="assets/network.svg" class="network-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" width="28px" height="24px">
                <rect class="network-bar bar-1" x="2" y="13" width="4" height="6"/>
                <rect class="network-bar bar-2" x="8" y="10" width="4" height="9"/>
                <rect class="network-bar bar-3" x="14" y="7" width="4" height="12"/>
                <rect class="network-bar bar-4" x="20" y="4" width="4" height="15"/>
            </svg>
        </div>
    </div>

    <!-- Load SVG sprite file and inject it into the page -->
    <script async>
        fetch('assets/icons.svg')
            .then(response => response.text())
            .then(data => {
                document.getElementById('sprites').innerHTML = data;
            });
    </script>

    <!-- Load JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/app.js?1217" type="module"></script>
</body>

</html>
